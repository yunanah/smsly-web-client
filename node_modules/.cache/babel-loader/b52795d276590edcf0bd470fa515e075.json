{"remainingRequest":"/Users/yoorabaek/Desktop/Dev_test/client/node_modules/babel-loader/lib/index.js!/Users/yoorabaek/Desktop/Dev_test/client/node_modules/eslint-loader/index.js??ref--14-0!/Users/yoorabaek/Desktop/Dev_test/client/src/store/index.js","dependencies":[{"path":"/Users/yoorabaek/Desktop/Dev_test/client/src/store/index.js","mtime":1638856988720},{"path":"/Users/yoorabaek/Desktop/Dev_test/client/babel.config.js","mtime":1638856988630},{"path":"/Users/yoorabaek/Desktop/Dev_test/client/node_modules/cache-loader/dist/cjs.js","mtime":1638841237816},{"path":"/Users/yoorabaek/Desktop/Dev_test/client/node_modules/babel-loader/lib/index.js","mtime":1638841240167},{"path":"/Users/yoorabaek/Desktop/Dev_test/client/node_modules/eslint-loader/index.js","mtime":1638841241209}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL3lvb3JhYmFlay9EZXNrdG9wL0Rldl90ZXN0L2NsaWVudC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICIvVXNlcnMveW9vcmFiYWVrL0Rlc2t0b3AvRGV2X3Rlc3QvY2xpZW50L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgeyBjcmVhdGVTdG9yZSB9IGZyb20gJ3Z1ZXgnOwppbXBvcnQgeyBnZXRBdXRoRnJvbUNvb2tpZSwgZ2V0VXNlckZyb21Db29raWUsIHNhdmVBdXRoVG9Db29raWUsIHNhdmVVc2VyVG9Db29raWUgfSBmcm9tICdAL3V0aWxzL2Nvb2tpZXMnOwppbXBvcnQgeyBsb2dpblVzZXIgfSBmcm9tICdAL2FwaS9hdXRoJzsKZXhwb3J0IGRlZmF1bHQgY3JlYXRlU3RvcmUoewogIHN0YXRlOiBmdW5jdGlvbiBzdGF0ZSgpIHsKICAgIHJldHVybiB7CiAgICAgIG1haWxDaGVjazogZmFsc2UsCiAgICAgIC8vIG1haWxDaGVja01zZzonJywKICAgICAgdXNlcmNvZGU6IGdldFVzZXJGcm9tQ29va2llKCkgfHwgJycsCiAgICAgIHRva2VuOiBnZXRBdXRoRnJvbUNvb2tpZSgpIHx8ICcnCiAgICB9OwogIH0sCiAgYWN0aW9uczogewogICAgLy8g66Gc6re47J24IGJ1c2luZXNzIGxvZ2ljCiAgICBMT0dJTjogZnVuY3Rpb24gTE9HSU4oX3JlZiwgdXNlckRhdGEpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIGNvbW1pdCwgX3lpZWxkJGxvZ2luVXNlciwgZGF0YTsKCiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgY29tbWl0ID0gX3JlZi5jb21taXQ7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBsb2dpblVzZXIodXNlckRhdGEpOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICBfeWllbGQkbG9naW5Vc2VyID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIGRhdGEgPSBfeWllbGQkbG9naW5Vc2VyLmRhdGE7CgogICAgICAgICAgICAgICAgaWYgKGRhdGEuc3VjY2VzcykgewogICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhkYXRhLm1lc3NhZ2UpOwogICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhkYXRhLnVzZXJEYXRhLnRva2VuKTsKICAgICAgICAgICAgICAgICAgX3RoaXMuc3RhdGUubWFpbENoZWNrID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgY29tbWl0KCdzZXRUb2tlbicsIGRhdGEudXNlckRhdGEudG9rZW4pOwogICAgICAgICAgICAgICAgICBjb21taXQoJ3NldENvZGUnLCBkYXRhLnVzZXJEYXRhLnVzZXJjb2RlKTsgLy8gZGF0YS51c2VyLmVtYWlsIOyduOyngCBjaGVjayDtlYTsmpQKCiAgICAgICAgICAgICAgICAgIHNhdmVBdXRoVG9Db29raWUoZGF0YS51c2VyRGF0YS50b2tlbik7CiAgICAgICAgICAgICAgICAgIHNhdmVVc2VyVG9Db29raWUoZGF0YS51c2VyRGF0YS51c2VyY29kZSk7IC8vIGVtYWlsIC0+IHVzZXJjb2RlCiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICBhbGVydCgn7J6F66Cl65CcIOygleuztOqwgCDsmKzrsJTrpbTsp4Ag7JWK7Iq164uI64ukLicpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEpOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIiwgZGF0YSk7CgogICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0KICB9LAogIGdldHRlcnM6IHsKICAgIGlzTG9naW46IGZ1bmN0aW9uIGlzTG9naW4oc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLnVzZXJjb2RlICE9PSAnJzsKICAgIH0KICB9LAogIG11dGF0aW9uczogewogICAgc2V0VXNlcjogZnVuY3Rpb24gc2V0VXNlcihzdGF0ZSwgdXNlckRhdGEpIHsKICAgICAgc3RhdGUudXNlciA9IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgc3RhdGUudXNlciksIHVzZXJEYXRhKTsKICAgIH0sCiAgICBzZXRDb2RlOiBmdW5jdGlvbiBzZXRDb2RlKHN0YXRlLCB1c2VyY29kZSkgewogICAgICBzdGF0ZS51c2VyY29kZSA9IHVzZXJjb2RlOwogICAgfSwKICAgIGNsZWFyQ29kZTogZnVuY3Rpb24gY2xlYXJDb2RlKHN0YXRlKSB7CiAgICAgIHN0YXRlLnVzZXJjb2RlID0gJyc7CiAgICB9LAogICAgc2V0VG9rZW46IGZ1bmN0aW9uIHNldFRva2VuKHN0YXRlLCB0b2tlbikgewogICAgICBzdGF0ZS50b2tlbiA9IHRva2VuOwogICAgfSwKICAgIGNsZWFyVG9rZW46IGZ1bmN0aW9uIGNsZWFyVG9rZW4oc3RhdGUpIHsKICAgICAgc3RhdGUudG9rZW4gPSAnJzsKICAgIH0KICB9Cn0pOw=="},{"version":3,"sources":["/Users/yoorabaek/Desktop/Dev_test/client/src/store/index.js"],"names":["createStore","getAuthFromCookie","getUserFromCookie","saveAuthToCookie","saveUserToCookie","loginUser","state","mailCheck","usercode","token","actions","LOGIN","userData","commit","data","success","console","log","message","alert","getters","isLogin","mutations","setUser","user","setCode","clearCode","setToken","clearToken"],"mappings":";;;AAAA,SAASA,WAAT,QAA4B,MAA5B;AACA,SAASC,iBAAT,EAA4BC,iBAA5B,EAA+CC,gBAA/C,EAAiEC,gBAAjE,QAAyF,iBAAzF;AACA,SAASC,SAAT,QAA0B,YAA1B;AAEA,eAAeL,WAAW,CAAC;AACzBM,EAAAA,KADyB,mBACjB;AACN,WAAO;AACLC,MAAAA,SAAS,EAAE,KADN;AAEL;AACAC,MAAAA,QAAQ,EAAEN,iBAAiB,MAAM,EAH5B;AAILO,MAAAA,KAAK,EAAER,iBAAiB,MAAM;AAJzB,KAAP;AAOD,GATwB;AAUzBS,EAAAA,OAAO,EAAE;AACP;AACMC,IAAAA,KAFC,uBAEiBC,QAFjB,EAE2B;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAApBC,gBAAAA,MAAoB,QAApBA,MAAoB;AAAA;AAAA,uBACXR,SAAS,CAACO,QAAD,CADE;;AAAA;AAAA;AACzBE,gBAAAA,IADyB,oBACzBA,IADyB;;AAEhC,oBAAIA,IAAI,CAACC,OAAT,EAAkB;AAChBC,kBAAAA,OAAO,CAACC,GAAR,CAAYH,IAAI,CAACI,OAAjB;AACAF,kBAAAA,OAAO,CAACC,GAAR,CAAYH,IAAI,CAACF,QAAL,CAAcH,KAA1B;AACA,kBAAA,KAAI,CAACH,KAAL,CAAWC,SAAX,GAAuB,IAAvB;AACAM,kBAAAA,MAAM,CAAC,UAAD,EAAaC,IAAI,CAACF,QAAL,CAAcH,KAA3B,CAAN;AACAI,kBAAAA,MAAM,CAAC,SAAD,EAAYC,IAAI,CAACF,QAAL,CAAcJ,QAA1B,CAAN,CALgB,CAK2B;;AAC3CL,kBAAAA,gBAAgB,CAACW,IAAI,CAACF,QAAL,CAAcH,KAAf,CAAhB;AACAL,kBAAAA,gBAAgB,CAACU,IAAI,CAACF,QAAL,CAAcJ,QAAf,CAAhB,CAPgB,CAO0B;AAE3C,iBATD,MAUK;AACHW,kBAAAA,KAAK,CAAC,oBAAD,CAAL;AACD;;AACDH,gBAAAA,OAAO,CAACC,GAAR,CAAYH,IAAZ;AAfgC,iDAgBzBA,IAhByB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAiBjC;AAnBM,GAVgB;AA+BzBM,EAAAA,OAAO,EAAE;AACPC,IAAAA,OADO,mBACCf,KADD,EACQ;AACb,aAAOA,KAAK,CAACE,QAAN,KAAmB,EAA1B;AACD;AAHM,GA/BgB;AAoCzBc,EAAAA,SAAS,EAAE;AACTC,IAAAA,OADS,mBACDjB,KADC,EACMM,QADN,EACgB;AACvBN,MAAAA,KAAK,CAACkB,IAAN,mCAAkBlB,KAAK,CAACkB,IAAxB,GAAiCZ,QAAjC;AACD,KAHQ;AAITa,IAAAA,OAJS,mBAIDnB,KAJC,EAIME,QAJN,EAIgB;AACvBF,MAAAA,KAAK,CAACE,QAAN,GAAiBA,QAAjB;AACD,KANQ;AAOTkB,IAAAA,SAPS,qBAOCpB,KAPD,EAOQ;AACfA,MAAAA,KAAK,CAACE,QAAN,GAAiB,EAAjB;AACD,KATQ;AAUTmB,IAAAA,QAVS,oBAUArB,KAVA,EAUOG,KAVP,EAUc;AACrBH,MAAAA,KAAK,CAACG,KAAN,GAAcA,KAAd;AACD,KAZQ;AAaTmB,IAAAA,UAbS,sBAaEtB,KAbF,EAaS;AAChBA,MAAAA,KAAK,CAACG,KAAN,GAAc,EAAd;AACD;AAfQ;AApCc,CAAD,CAA1B","sourcesContent":["import { createStore } from 'vuex'\nimport { getAuthFromCookie, getUserFromCookie, saveAuthToCookie, saveUserToCookie } from '@/utils/cookies'\nimport { loginUser } from '@/api/auth'\n\nexport default createStore({\n  state() {\n    return {\n      mailCheck: false,\n      // mailCheckMsg:'',\n      usercode: getUserFromCookie() || '',\n      token: getAuthFromCookie() || '',\n    }\n\n  },\n  actions: {\n    // 로그인 business logic\n    async LOGIN({ commit }, userData) {\n      const {data} = await loginUser(userData);\n      if (data.success) {\n        console.log(data.message);\n        console.log(data.userData.token);\n        this.state.mailCheck = true\n        commit('setToken', data.userData.token);\n        commit('setCode', data.userData.usercode); // data.user.email 인지 check 필요\n        saveAuthToCookie(data.userData.token);\n        saveUserToCookie(data.userData.usercode); // email -> usercode\n\n      }\n      else {\n        alert('입력된 정보가 올바르지 않습니다.')\n      }\n      console.log(data);\n      return data;\n    }\n  },\n  getters: {\n    isLogin(state) {\n      return state.usercode !== ''\n    }\n  },\n  mutations: {\n    setUser(state, userData) {\n      state.user = { ...state.user, ...userData }\n    },\n    setCode(state, usercode) {\n      state.usercode = usercode;\n    },\n    clearCode(state) {\n      state.usercode = '';\n    },\n    setToken(state, token) {\n      state.token = token;\n    },\n    clearToken(state) {\n      state.token = '';\n    },\n  },\n});\n"]}]}