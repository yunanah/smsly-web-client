{"remainingRequest":"/Users/yoorabaek/Dev_test/client/node_modules/babel-loader/lib/index.js!/Users/yoorabaek/Dev_test/client/node_modules/eslint-loader/index.js??ref--14-0!/Users/yoorabaek/Dev_test/client/src/store/index.js","dependencies":[{"path":"/Users/yoorabaek/Dev_test/client/src/store/index.js","mtime":1638856988000},{"path":"/Users/yoorabaek/Dev_test/client/babel.config.js","mtime":1638856988000},{"path":"/Users/yoorabaek/Dev_test/client/node_modules/cache-loader/dist/cjs.js","mtime":1639643469456},{"path":"/Users/yoorabaek/Dev_test/client/node_modules/babel-loader/lib/index.js","mtime":1639643471023},{"path":"/Users/yoorabaek/Dev_test/client/node_modules/eslint-loader/index.js","mtime":1639643469668}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL3lvb3JhYmFlay9EZXZfdGVzdC9jbGllbnQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL1VzZXJzL3lvb3JhYmFlay9EZXZfdGVzdC9jbGllbnQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCB7IGNyZWF0ZVN0b3JlIH0gZnJvbSAndnVleCc7CmltcG9ydCB7IGdldEF1dGhGcm9tQ29va2llLCBnZXRVc2VyRnJvbUNvb2tpZSwgc2F2ZUF1dGhUb0Nvb2tpZSwgc2F2ZVVzZXJUb0Nvb2tpZSB9IGZyb20gJ0AvdXRpbHMvY29va2llcyc7CmltcG9ydCB7IGxvZ2luVXNlciB9IGZyb20gJ0AvYXBpL2F1dGgnOwpleHBvcnQgZGVmYXVsdCBjcmVhdGVTdG9yZSh7CiAgc3RhdGU6IGZ1bmN0aW9uIHN0YXRlKCkgewogICAgcmV0dXJuIHsKICAgICAgbWFpbENoZWNrOiBmYWxzZSwKICAgICAgLy8gbWFpbENoZWNrTXNnOicnLAogICAgICB1c2VyY29kZTogZ2V0VXNlckZyb21Db29raWUoKSB8fCAnJywKICAgICAgdG9rZW46IGdldEF1dGhGcm9tQ29va2llKCkgfHwgJycKICAgIH07CiAgfSwKICBhY3Rpb25zOiB7CiAgICAvLyDroZzqt7jsnbggYnVzaW5lc3MgbG9naWMKICAgIExPR0lOOiBmdW5jdGlvbiBMT0dJTihfcmVmLCB1c2VyRGF0YSkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgY29tbWl0LCBfeWllbGQkbG9naW5Vc2VyLCBkYXRhOwoKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBjb21taXQgPSBfcmVmLmNvbW1pdDsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIGxvZ2luVXNlcih1c2VyRGF0YSk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIF95aWVsZCRsb2dpblVzZXIgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgZGF0YSA9IF95aWVsZCRsb2dpblVzZXIuZGF0YTsKCiAgICAgICAgICAgICAgICBpZiAoZGF0YS5zdWNjZXNzKSB7CiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEubWVzc2FnZSk7CiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEudXNlckRhdGEudG9rZW4pOwogICAgICAgICAgICAgICAgICBfdGhpcy5zdGF0ZS5tYWlsQ2hlY2sgPSB0cnVlOwogICAgICAgICAgICAgICAgICBjb21taXQoJ3NldFRva2VuJywgZGF0YS51c2VyRGF0YS50b2tlbik7CiAgICAgICAgICAgICAgICAgIGNvbW1pdCgnc2V0Q29kZScsIGRhdGEudXNlckRhdGEudXNlcmNvZGUpOyAvLyBkYXRhLnVzZXIuZW1haWwg7J247KeAIGNoZWNrIO2VhOyalAoKICAgICAgICAgICAgICAgICAgc2F2ZUF1dGhUb0Nvb2tpZShkYXRhLnVzZXJEYXRhLnRva2VuKTsKICAgICAgICAgICAgICAgICAgc2F2ZVVzZXJUb0Nvb2tpZShkYXRhLnVzZXJEYXRhLnVzZXJjb2RlKTsgLy8gZW1haWwgLT4gdXNlcmNvZGUKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgIGFsZXJ0KCfsnoXroKXrkJwg7KCV67O06rCAIOyYrOuwlOultOyngCDslYrsirXri4jri6QuJyk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgY29uc29sZS5sb2coZGF0YSk7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iLCBkYXRhKTsKCiAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfQogIH0sCiAgZ2V0dGVyczogewogICAgaXNMb2dpbjogZnVuY3Rpb24gaXNMb2dpbihzdGF0ZSkgewogICAgICByZXR1cm4gc3RhdGUudXNlcmNvZGUgIT09ICcnOwogICAgfQogIH0sCiAgbXV0YXRpb25zOiB7CiAgICBzZXRVc2VyOiBmdW5jdGlvbiBzZXRVc2VyKHN0YXRlLCB1c2VyRGF0YSkgewogICAgICBzdGF0ZS51c2VyID0gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBzdGF0ZS51c2VyKSwgdXNlckRhdGEpOwogICAgfSwKICAgIHNldENvZGU6IGZ1bmN0aW9uIHNldENvZGUoc3RhdGUsIHVzZXJjb2RlKSB7CiAgICAgIHN0YXRlLnVzZXJjb2RlID0gdXNlcmNvZGU7CiAgICB9LAogICAgY2xlYXJDb2RlOiBmdW5jdGlvbiBjbGVhckNvZGUoc3RhdGUpIHsKICAgICAgc3RhdGUudXNlcmNvZGUgPSAnJzsKICAgIH0sCiAgICBzZXRUb2tlbjogZnVuY3Rpb24gc2V0VG9rZW4oc3RhdGUsIHRva2VuKSB7CiAgICAgIHN0YXRlLnRva2VuID0gdG9rZW47CiAgICB9LAogICAgY2xlYXJUb2tlbjogZnVuY3Rpb24gY2xlYXJUb2tlbihzdGF0ZSkgewogICAgICBzdGF0ZS50b2tlbiA9ICcnOwogICAgfQogIH0KfSk7"},{"version":3,"sources":["/Users/yoorabaek/Dev_test/client/src/store/index.js"],"names":["createStore","getAuthFromCookie","getUserFromCookie","saveAuthToCookie","saveUserToCookie","loginUser","state","mailCheck","usercode","token","actions","LOGIN","userData","commit","data","success","console","log","message","alert","getters","isLogin","mutations","setUser","user","setCode","clearCode","setToken","clearToken"],"mappings":";;;AAAA,SAASA,WAAT,QAA4B,MAA5B;AACA,SAASC,iBAAT,EAA4BC,iBAA5B,EAA+CC,gBAA/C,EAAiEC,gBAAjE,QAAyF,iBAAzF;AACA,SAASC,SAAT,QAA0B,YAA1B;AAEA,eAAeL,WAAW,CAAC;AACzBM,EAAAA,KADyB,mBACjB;AACN,WAAO;AACLC,MAAAA,SAAS,EAAE,KADN;AAEL;AACAC,MAAAA,QAAQ,EAAEN,iBAAiB,MAAM,EAH5B;AAILO,MAAAA,KAAK,EAAER,iBAAiB,MAAM;AAJzB,KAAP;AAOD,GATwB;AAUzBS,EAAAA,OAAO,EAAE;AACP;AACMC,IAAAA,KAFC,uBAEiBC,QAFjB,EAE2B;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAApBC,gBAAAA,MAAoB,QAApBA,MAAoB;AAAA;AAAA,uBACXR,SAAS,CAACO,QAAD,CADE;;AAAA;AAAA;AACzBE,gBAAAA,IADyB,oBACzBA,IADyB;;AAEhC,oBAAIA,IAAI,CAACC,OAAT,EAAkB;AAChBC,kBAAAA,OAAO,CAACC,GAAR,CAAYH,IAAI,CAACI,OAAjB;AACAF,kBAAAA,OAAO,CAACC,GAAR,CAAYH,IAAI,CAACF,QAAL,CAAcH,KAA1B;AACA,kBAAA,KAAI,CAACH,KAAL,CAAWC,SAAX,GAAuB,IAAvB;AACAM,kBAAAA,MAAM,CAAC,UAAD,EAAaC,IAAI,CAACF,QAAL,CAAcH,KAA3B,CAAN;AACAI,kBAAAA,MAAM,CAAC,SAAD,EAAYC,IAAI,CAACF,QAAL,CAAcJ,QAA1B,CAAN,CALgB,CAK2B;;AAC3CL,kBAAAA,gBAAgB,CAACW,IAAI,CAACF,QAAL,CAAcH,KAAf,CAAhB;AACAL,kBAAAA,gBAAgB,CAACU,IAAI,CAACF,QAAL,CAAcJ,QAAf,CAAhB,CAPgB,CAO0B;AAE3C,iBATD,MAUK;AACHW,kBAAAA,KAAK,CAAC,oBAAD,CAAL;AACD;;AACDH,gBAAAA,OAAO,CAACC,GAAR,CAAYH,IAAZ;AAfgC,iDAgBzBA,IAhByB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAiBjC;AAnBM,GAVgB;AA+BzBM,EAAAA,OAAO,EAAE;AACPC,IAAAA,OADO,mBACCf,KADD,EACQ;AACb,aAAOA,KAAK,CAACE,QAAN,KAAmB,EAA1B;AACD;AAHM,GA/BgB;AAoCzBc,EAAAA,SAAS,EAAE;AACTC,IAAAA,OADS,mBACDjB,KADC,EACMM,QADN,EACgB;AACvBN,MAAAA,KAAK,CAACkB,IAAN,mCAAkBlB,KAAK,CAACkB,IAAxB,GAAiCZ,QAAjC;AACD,KAHQ;AAITa,IAAAA,OAJS,mBAIDnB,KAJC,EAIME,QAJN,EAIgB;AACvBF,MAAAA,KAAK,CAACE,QAAN,GAAiBA,QAAjB;AACD,KANQ;AAOTkB,IAAAA,SAPS,qBAOCpB,KAPD,EAOQ;AACfA,MAAAA,KAAK,CAACE,QAAN,GAAiB,EAAjB;AACD,KATQ;AAUTmB,IAAAA,QAVS,oBAUArB,KAVA,EAUOG,KAVP,EAUc;AACrBH,MAAAA,KAAK,CAACG,KAAN,GAAcA,KAAd;AACD,KAZQ;AAaTmB,IAAAA,UAbS,sBAaEtB,KAbF,EAaS;AAChBA,MAAAA,KAAK,CAACG,KAAN,GAAc,EAAd;AACD;AAfQ;AApCc,CAAD,CAA1B","sourcesContent":["import { createStore } from 'vuex'\nimport { getAuthFromCookie, getUserFromCookie, saveAuthToCookie, saveUserToCookie } from '@/utils/cookies'\nimport { loginUser } from '@/api/auth'\n\nexport default createStore({\n  state() {\n    return {\n      mailCheck: false,\n      // mailCheckMsg:'',\n      usercode: getUserFromCookie() || '',\n      token: getAuthFromCookie() || '',\n    }\n\n  },\n  actions: {\n    // 로그인 business logic\n    async LOGIN({ commit }, userData) {\n      const {data} = await loginUser(userData);\n      if (data.success) {\n        console.log(data.message);\n        console.log(data.userData.token);\n        this.state.mailCheck = true\n        commit('setToken', data.userData.token);\n        commit('setCode', data.userData.usercode); // data.user.email 인지 check 필요\n        saveAuthToCookie(data.userData.token);\n        saveUserToCookie(data.userData.usercode); // email -> usercode\n\n      }\n      else {\n        alert('입력된 정보가 올바르지 않습니다.')\n      }\n      console.log(data);\n      return data;\n    }\n  },\n  getters: {\n    isLogin(state) {\n      return state.usercode !== ''\n    }\n  },\n  mutations: {\n    setUser(state, userData) {\n      state.user = { ...state.user, ...userData }\n    },\n    setCode(state, usercode) {\n      state.usercode = usercode;\n    },\n    clearCode(state) {\n      state.usercode = '';\n    },\n    setToken(state, token) {\n      state.token = token;\n    },\n    clearToken(state) {\n      state.token = '';\n    },\n  },\n});\n"]}]}