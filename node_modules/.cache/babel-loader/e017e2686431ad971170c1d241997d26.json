{"remainingRequest":"/Users/yoorabaek/Dev_test/client/node_modules/babel-loader/lib/index.js!/Users/yoorabaek/Dev_test/client/node_modules/eslint-loader/index.js??ref--14-0!/Users/yoorabaek/Dev_test/client/src/store/index.js","dependencies":[{"path":"/Users/yoorabaek/Dev_test/client/src/store/index.js","mtime":1645314823603},{"path":"/Users/yoorabaek/Dev_test/client/babel.config.js","mtime":1638856988000},{"path":"/Users/yoorabaek/Dev_test/client/node_modules/cache-loader/dist/cjs.js","mtime":1638841237816},{"path":"/Users/yoorabaek/Dev_test/client/node_modules/babel-loader/lib/index.js","mtime":1639623481094},{"path":"/Users/yoorabaek/Dev_test/client/node_modules/eslint-loader/index.js","mtime":1638841241209}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL3lvb3JhYmFlay9EZXZfdGVzdC9jbGllbnQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL1VzZXJzL3lvb3JhYmFlay9EZXZfdGVzdC9jbGllbnQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCB7IGNyZWF0ZVN0b3JlIH0gZnJvbSAidnVleCI7CmltcG9ydCB7IGdldEF1dGhGcm9tQ29va2llLCBnZXRVc2VyRnJvbUNvb2tpZSwgc2F2ZUF1dGhUb0Nvb2tpZSwgc2F2ZVVzZXJUb0Nvb2tpZSB9IGZyb20gIkAvdXRpbHMvY29va2llcyI7CmltcG9ydCB7IGxvZ2luVXNlciB9IGZyb20gIkAvYXBpL2F1dGgiOwpleHBvcnQgZGVmYXVsdCBjcmVhdGVTdG9yZSh7CiAgc3RhdGU6IGZ1bmN0aW9uIHN0YXRlKCkgewogICAgcmV0dXJuIHsKICAgICAgbWFpbENoZWNrOiBmYWxzZSwKICAgICAgLy8gbWFpbENoZWNrTXNnOicnLAogICAgICBQS19JRDogZ2V0VXNlckZyb21Db29raWUoKSB8fCAiIiwKICAgICAgdG9rZW46IGdldEF1dGhGcm9tQ29va2llKCkgfHwgIiIKICAgIH07CiAgfSwKICBhY3Rpb25zOiB7CiAgICAvLyDroZzqt7jsnbggYnVzaW5lc3MgbG9naWMKICAgIExPR0lOOiBmdW5jdGlvbiBMT0dJTihfcmVmLCB1c2VyRGF0YSkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgY29tbWl0LCBfeWllbGQkbG9naW5Vc2VyLCBkYXRhOwoKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBjb21taXQgPSBfcmVmLmNvbW1pdDsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIGxvZ2luVXNlcih1c2VyRGF0YSk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIF95aWVsZCRsb2dpblVzZXIgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgZGF0YSA9IF95aWVsZCRsb2dpblVzZXIuZGF0YTsKCiAgICAgICAgICAgICAgICBpZiAoZGF0YS5zdWNjZXNzKSB7CiAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGRhdGEubWVzc2FnZSk7CiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEudXNlckRhdGEpOwogICAgICAgICAgICAgICAgICBfdGhpcy5zdGF0ZS5tYWlsQ2hlY2sgPSB0cnVlOwogICAgICAgICAgICAgICAgICBjb21taXQoInNldFRva2VuIiwgZGF0YS51c2VyRGF0YS50b2tlbik7CiAgICAgICAgICAgICAgICAgIGNvbW1pdCgic2V0Q29kZSIsIGRhdGEudXNlckRhdGEuUEtfSUQpOyAvLyBkYXRhLnVzZXIuZW1haWwg7J247KeAIGNoZWNrIO2VhOyalAoKICAgICAgICAgICAgICAgICAgc2F2ZUF1dGhUb0Nvb2tpZShkYXRhLnVzZXJEYXRhLnRva2VuKTsKICAgICAgICAgICAgICAgICAgc2F2ZVVzZXJUb0Nvb2tpZShkYXRhLnVzZXJEYXRhLlBLX0lEKTsgLy8gZW1haWwgLT4gUEtfSUQKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgIGFsZXJ0KCLsnoXroKXrkJwg7KCV67O06rCAIOyYrOuwlOultOyngCDslYrsirXri4jri6QuIik7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgY29uc29sZS5sb2coZGF0YSk7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iLCBkYXRhKTsKCiAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfQogIH0sCiAgZ2V0dGVyczogewogICAgaXNMb2dpbjogZnVuY3Rpb24gaXNMb2dpbihzdGF0ZSkgewogICAgICByZXR1cm4gc3RhdGUuUEtfSUQgIT09ICIiOwogICAgfQogIH0sCiAgbXV0YXRpb25zOiB7CiAgICBzZXRVc2VyOiBmdW5jdGlvbiBzZXRVc2VyKHN0YXRlLCB1c2VyRGF0YSkgewogICAgICBzdGF0ZS51c2VyID0gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBzdGF0ZS51c2VyKSwgdXNlckRhdGEpOwogICAgfSwKICAgIHNldENvZGU6IGZ1bmN0aW9uIHNldENvZGUoc3RhdGUsIFBLX0lEKSB7CiAgICAgIHN0YXRlLlBLX0lEID0gUEtfSUQ7CiAgICB9LAogICAgY2xlYXJDb2RlOiBmdW5jdGlvbiBjbGVhckNvZGUoc3RhdGUpIHsKICAgICAgc3RhdGUuUEtfSUQgPSAiIjsKICAgIH0sCiAgICBzZXRUb2tlbjogZnVuY3Rpb24gc2V0VG9rZW4oc3RhdGUsIHRva2VuKSB7CiAgICAgIHN0YXRlLnRva2VuID0gdG9rZW47CiAgICB9LAogICAgY2xlYXJUb2tlbjogZnVuY3Rpb24gY2xlYXJUb2tlbihzdGF0ZSkgewogICAgICBzdGF0ZS50b2tlbiA9ICIiOwogICAgfQogIH0KfSk7"},{"version":3,"sources":["/Users/yoorabaek/Dev_test/client/src/store/index.js"],"names":["createStore","getAuthFromCookie","getUserFromCookie","saveAuthToCookie","saveUserToCookie","loginUser","state","mailCheck","PK_ID","token","actions","LOGIN","userData","commit","data","success","console","log","alert","getters","isLogin","mutations","setUser","user","setCode","clearCode","setToken","clearToken"],"mappings":";;;AAAA,SAASA,WAAT,QAA4B,MAA5B;AACA,SAASC,iBAAT,EAA4BC,iBAA5B,EAA+CC,gBAA/C,EAAiEC,gBAAjE,QAAyF,iBAAzF;AACA,SAASC,SAAT,QAA0B,YAA1B;AAEA,eAAeL,WAAW,CAAC;AACzBM,EAAAA,KADyB,mBACjB;AACN,WAAO;AACLC,MAAAA,SAAS,EAAE,KADN;AAEL;AACAC,MAAAA,KAAK,EAAEN,iBAAiB,MAAM,EAHzB;AAILO,MAAAA,KAAK,EAAER,iBAAiB,MAAM;AAJzB,KAAP;AAMD,GARwB;AASzBS,EAAAA,OAAO,EAAE;AACP;AACMC,IAAAA,KAFC,uBAEiBC,QAFjB,EAE2B;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAApBC,gBAAAA,MAAoB,QAApBA,MAAoB;AAAA;AAAA,uBACTR,SAAS,CAACO,QAAD,CADA;;AAAA;AAAA;AACxBE,gBAAAA,IADwB,oBACxBA,IADwB;;AAEhC,oBAAIA,IAAI,CAACC,OAAT,EAAkB;AAChB;AACAC,kBAAAA,OAAO,CAACC,GAAR,CAAYH,IAAI,CAACF,QAAjB;AACA,kBAAA,KAAI,CAACN,KAAL,CAAWC,SAAX,GAAuB,IAAvB;AACAM,kBAAAA,MAAM,CAAC,UAAD,EAAaC,IAAI,CAACF,QAAL,CAAcH,KAA3B,CAAN;AACAI,kBAAAA,MAAM,CAAC,SAAD,EAAYC,IAAI,CAACF,QAAL,CAAcJ,KAA1B,CAAN,CALgB,CAKwB;;AACxCL,kBAAAA,gBAAgB,CAACW,IAAI,CAACF,QAAL,CAAcH,KAAf,CAAhB;AACAL,kBAAAA,gBAAgB,CAACU,IAAI,CAACF,QAAL,CAAcJ,KAAf,CAAhB,CAPgB,CAOuB;AACxC,iBARD,MAQO;AACLU,kBAAAA,KAAK,CAAC,oBAAD,CAAL;AACD;;AACDF,gBAAAA,OAAO,CAACC,GAAR,CAAYH,IAAZ;AAbgC,iDAczBA,IAdyB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAejC;AAjBM,GATgB;AA4BzBK,EAAAA,OAAO,EAAE;AACPC,IAAAA,OADO,mBACCd,KADD,EACQ;AACb,aAAOA,KAAK,CAACE,KAAN,KAAgB,EAAvB;AACD;AAHM,GA5BgB;AAiCzBa,EAAAA,SAAS,EAAE;AACTC,IAAAA,OADS,mBACDhB,KADC,EACMM,QADN,EACgB;AACvBN,MAAAA,KAAK,CAACiB,IAAN,mCAAkBjB,KAAK,CAACiB,IAAxB,GAAiCX,QAAjC;AACD,KAHQ;AAITY,IAAAA,OAJS,mBAIDlB,KAJC,EAIME,KAJN,EAIa;AACpBF,MAAAA,KAAK,CAACE,KAAN,GAAcA,KAAd;AACD,KANQ;AAOTiB,IAAAA,SAPS,qBAOCnB,KAPD,EAOQ;AACfA,MAAAA,KAAK,CAACE,KAAN,GAAc,EAAd;AACD,KATQ;AAUTkB,IAAAA,QAVS,oBAUApB,KAVA,EAUOG,KAVP,EAUc;AACrBH,MAAAA,KAAK,CAACG,KAAN,GAAcA,KAAd;AACD,KAZQ;AAaTkB,IAAAA,UAbS,sBAaErB,KAbF,EAaS;AAChBA,MAAAA,KAAK,CAACG,KAAN,GAAc,EAAd;AACD;AAfQ;AAjCc,CAAD,CAA1B","sourcesContent":["import { createStore } from \"vuex\";\nimport { getAuthFromCookie, getUserFromCookie, saveAuthToCookie, saveUserToCookie } from \"@/utils/cookies\";\nimport { loginUser } from \"@/api/auth\";\n\nexport default createStore({\n  state() {\n    return {\n      mailCheck: false,\n      // mailCheckMsg:'',\n      PK_ID: getUserFromCookie() || \"\",\n      token: getAuthFromCookie() || \"\",\n    };\n  },\n  actions: {\n    // 로그인 business logic\n    async LOGIN({ commit }, userData) {\n      const { data } = await loginUser(userData);\n      if (data.success) {\n        // console.log(data.message);\n        console.log(data.userData);\n        this.state.mailCheck = true;\n        commit(\"setToken\", data.userData.token);\n        commit(\"setCode\", data.userData.PK_ID); // data.user.email 인지 check 필요\n        saveAuthToCookie(data.userData.token);\n        saveUserToCookie(data.userData.PK_ID); // email -> PK_ID\n      } else {\n        alert(\"입력된 정보가 올바르지 않습니다.\");\n      }\n      console.log(data);\n      return data;\n    },\n  },\n  getters: {\n    isLogin(state) {\n      return state.PK_ID !== \"\";\n    },\n  },\n  mutations: {\n    setUser(state, userData) {\n      state.user = { ...state.user, ...userData };\n    },\n    setCode(state, PK_ID) {\n      state.PK_ID = PK_ID;\n    },\n    clearCode(state) {\n      state.PK_ID = \"\";\n    },\n    setToken(state, token) {\n      state.token = token;\n    },\n    clearToken(state) {\n      state.token = \"\";\n    },\n  },\n});\n"]}]}